pomdp
observables v, h endobservables
module vehicle
// vehicle location
     v: [0..12] init 12;
	// v=12 initial dummy variable
    [c0] v=12 -> (v'=0);

	[c0] v=0 -> (v'=1);
	[c1] v=0 -> (v'=2);
	[c2] v=0 -> (v'=3);

	[c1] v=1 -> (v'=4);
	[c2] v=1 -> (v'=5);

	[c0] v=2 -> (v'=4);
	[c2] v=2 -> (v'=6);

	[c0] v=3 -> (v'=5);
	[c1] v=3 -> (v'=6);

	[c1] v=4 -> (v'=7);
	[c2] v=4 -> (v'=8);

	[c0] v=5 -> (v'=7);
	[c2] v=5 -> (v'=9);

	[c0] v=6 -> (v'=8);
	[c1] v=6 -> (v'=9);

	[c1] v=7 -> (v'=10);

	[c1] v=8 -> (v'=10);

	[c1] v=9 -> (v'=10);

	[c0] v=10 -> (v'=11);
	[c1] v=10 -> (v'=11);
	[c2] v=10 -> (v'=11);
	// v=11
	[c0] v=11 -> (v'=11);
	[c1] v=11 -> (v'=11);
	[c2] v=11 -> (v'=11);

endmodule

module driver
u: [0..1] init 0;
h: [0..2] init 0;

[c0] u =0 -> 0.25: (h'=1)& (u'=0) + 0.25: (h'=1)& (u'=1) + 0.25: (h'=2)& (u'=0) + 0.25: (h'=2)& (u'=1);
[c1] u =0 -> 0.25: (h'=1)& (u'=0) + 0.25: (h'=1)& (u'=1) + 0.25: (h'=2)& (u'=0) + 0.25: (h'=2)& (u'=1);
[c2] u =0 -> 0.25: (h'=1)& (u'=0) + 0.25: (h'=1)& (u'=1) + 0.25: (h'=2)& (u'=0) + 0.25: (h'=2)& (u'=1);


[c0] u =1 -> 0.35: (h'=1)& (u'=0) + 0.45: (h'=1)& (u'=1) + 0.15: (h'=2)& (u'=0) + 0.05: (h'=2)& (u'=1);
[c1] u =1 -> 0.05: (h'=1)& (u'=0) + 0.35: (h'=1)& (u'=1) + 0.35: (h'=2)& (u'=0) + 0.25: (h'=2)& (u'=1);
[c2] u =1 -> 0.15: (h'=1)& (u'=0) + 0.35: (h'=1)& (u'=1) + 0.15: (h'=2)& (u'=0) + 0.35: (h'=2)& (u'=1);

endmodule
label "stop" = v=5;
label "end" = v=11;

rewards "takeovers"
h=1:1;
endrewards
rewards "takeovers2"
h=1:1;
endrewards
rewards "states" 
v= 0 & h = 0 :10000;
v= 0 & h = 1 :10001;
v= 0 & h = 2 :10002;
v= 1 & h = 0 :10010;
v= 1 & h = 1 :10011;
v= 1 & h = 2 :10012;
v= 2 & h = 0 :10020;
v= 2 & h = 1 :10021;
v= 2 & h = 2 :10022;
v= 3 & h = 0 :10030;
v= 3 & h = 1 :10031;
v= 3 & h = 2 :10032;
v= 4 & h = 0 :10040;
v= 4 & h = 1 :10041;
v= 4 & h = 2 :10042;
v= 5 & h = 0 :10050;
v= 5 & h = 1 :10051;
v= 5 & h = 2 :10052;
v= 6 & h = 0 :10060;
v= 6 & h = 1 :10061;
v= 6 & h = 2 :10062;
v= 7 & h = 0 :10070;
v= 7 & h = 1 :10071;
v= 7 & h = 2 :10072;
v= 8 & h = 0 :10080;
v= 8 & h = 1 :10081;
v= 8 & h = 2 :10082;
v= 9 & h = 0 :10090;
v= 9 & h = 1 :10091;
v= 9 & h = 2 :10092;
v= 10 & h = 0 :10100;
v= 10 & h = 1 :10101;
v= 10 & h = 2 :10102;
v= 11 & h = 0 :10110;
v= 11 & h = 1 :10111;
v= 11 & h = 2 :10112;
v= 12 & h = 0 :10120;
v= 12 & h = 1 :10121;
v= 12 & h = 2 :10122;
endrewards
